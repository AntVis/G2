!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@antv/g")):"function"==typeof define&&define.amd?define(["exports","@antv/g"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).G=t.G||{},t.G.SVG={}),t.window.G)}(this,(function(t,e){"use strict";function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
r=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=Object.create((e&&e.prototype instanceof h?e:h).prototype),o=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return O()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,o),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var v={};c(v,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==e&&n.call(y,o)&&(v=y);var m=p.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,c(m,"constructor",p),c(p,"constructor",d),d.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),c(m,s,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(this.prev>=o.tryLoc){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(o.catchLoc>this.prev)return r(o.catchLoc,!0);if(o.finallyLoc>this.prev)return r(o.finallyLoc)}else if(s){if(o.catchLoc>this.prev)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(o.finallyLoc>this.prev)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(this.prev>=i.tryLoc&&n.call(i,"finallyLoc")&&i.finallyLoc>this.prev){var o=i;break}}o&&("break"===t||"continue"===t)&&e>=o.tryLoc&&o.finallyLoc>=e&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function n(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var a=t.apply(e,r);function s(t){n(a,i,o,s,c,"next",t)}function c(t){n(a,i,o,s,c,"throw",t)}s(void 0)}))}}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,a(t,e)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(t,e,r,n){var i,o=arguments.length,a=3>o?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(3>o?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
u=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=Object.create((e&&e.prototype instanceof h?e:h).prototype),o=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return O()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,o),i}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(L([])));y&&y!==e&&r.call(y,i)&&(v=y);var m=p.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(i,o,a,s){var c=l(t[i],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=p,s(m,"constructor",p),s(p,"constructor",d),d.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new w(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),s(m,a,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(this.prev>=o.tryLoc){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(o.catchLoc>this.prev)return n(o.catchLoc,!0);if(o.finallyLoc>this.prev)return n(o.finallyLoc)}else if(s){if(o.catchLoc>this.prev)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(o.finallyLoc>this.prev)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(this.prev>=i.tryLoc&&r.call(i,"finallyLoc")&&i.finallyLoc>this.prev){var o=i;break}}o&&("break"===t||"continue"===t)&&e>=o.tryLoc&&o.finallyLoc>=e&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function l(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){l(o,n,i,a,s,"next",t)}function s(t){l(o,n,i,a,s,"throw",t)}a(void 0)}))}}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}var d,p,v=(d=function(){function t(){this.contextService=void 0,this.renderingContext=void 0}return t.prototype.apply=function(t){var e=this,r=this.renderingContext.root.ownerDocument.defaultView,n=function(e){t.hooks.pointerMove.call(e)},i=function(e){t.hooks.pointerUp.call(e)},o=function(e){t.hooks.pointerDown.call(e)},a=function(e){t.hooks.pointerOver.call(e)},s=function(e){t.hooks.pointerOut.call(e)},c=function(e){t.hooks.pointerCancel.call(e)},l=function(e){t.hooks.pointerWheel.call(e)},h=function(t){globalThis.document.addEventListener("pointermove",n,!0),t.addEventListener("pointerdown",o,!0),t.addEventListener("pointerleave",s,!0),t.addEventListener("pointerover",a,!0),globalThis.addEventListener("pointerup",i,!0)},d=function(t){t.addEventListener("touchstart",o,!0),t.addEventListener("touchend",i,!0),t.addEventListener("touchmove",n,!0),t.addEventListener("touchcancel",c,!0)},v=function(t){globalThis.document.addEventListener("mousemove",n,!0),t.addEventListener("mousedown",o,!0),t.addEventListener("mouseout",s,!0),t.addEventListener("mouseover",a,!0),globalThis.addEventListener("mouseup",i,!0)};t.hooks.init.tapPromise(p.tag,f(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.contextService.getDomElement(),globalThis.navigator.msPointerEnabled?(n.style.msContentZooming="none",n.style.msTouchAction="none"):r.supportsPointerEvents&&(n.style.touchAction="none"),r.supportsPointerEvents?h(n):v(n),r.supportsTouchEvents&&d(n),n.addEventListener("wheel",l,{passive:!0,capture:!0});case 5:case"end":return t.stop()}}),t)})))),t.hooks.destroy.tap(p.tag,(function(){var t=e.contextService.getDomElement();globalThis.navigator.msPointerEnabled?(t.style.msContentZooming="",t.style.msTouchAction=""):r.supportsPointerEvents&&(t.style.touchAction=""),r.supportsPointerEvents?function(t){globalThis.document.removeEventListener("pointermove",n,!0),t.removeEventListener("pointerdown",o,!0),t.removeEventListener("pointerleave",s,!0),t.removeEventListener("pointerover",a,!0),globalThis.removeEventListener("pointerup",i,!0)}(t):function(t){globalThis.document.removeEventListener("mousemove",n,!0),t.removeEventListener("mousedown",o,!0),t.removeEventListener("mouseout",s,!0),t.removeEventListener("mouseover",a,!0),globalThis.removeEventListener("mouseup",i,!0)}(t),r.supportsTouchEvents&&function(t){t.removeEventListener("touchstart",o,!0),t.removeEventListener("touchend",i,!0),t.removeEventListener("touchmove",n,!0),t.removeEventListener("touchcancel",c,!0)}(t),t.removeEventListener("wheel",l,!0)}))},t}(),d.tag="DOMInteraction",p=d);s([e.inject(e.ContextService),c("design:type",Object)],v.prototype,"contextService",void 0),s([e.inject(e.RenderingContext),c("design:type",Object)],v.prototype,"renderingContext",void 0),v=p=s([e.singleton({contrib:e.RenderingPluginContribution})],v);var g=e.Module((function(t){t(v)})),y=function(t){var e,r;function n(){for(var e,r=arguments.length,n=new Array(r),i=0;r>i;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).name="dom-interaction",e}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,h(e,r);var i=n.prototype;return i.init=function(){this.container.load(g,!0)},i.destroy=function(){this.container.unload(g)},n}(e.AbstractRendererPlugin),m=Object.freeze({__proto__:null,Plugin:y}),b=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;o>i;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))},w=function(t,e,r){this.name=t,this.version=e,this.os=r,this.type="browser"},E=function(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},A=function(t,e,r,n){this.name=t,this.version=e,this.os=r,this.bot=n,this.type="bot-device"},S=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},x=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},L=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,O=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],C=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function k(t){return t?T(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new x:"undefined"!=typeof navigator?T(navigator.userAgent):"undefined"!=typeof process&&process.version?new E(process.version.slice(1)):null}function T(t){var e=function(t){return""!==t&&O.reduce((function(e,r){var n=r[0];if(e)return e;var i=r[1].exec(t);return!!i&&[n,i]}),!1)}(t);if(!e)return null;var r=e[0],n=e[1];if("searchbot"===r)return new S;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?3>i.length&&(i=b(b([],i,!0),function(t){for(var e=[],r=0;t>r;r++)e.push("0");return e}(3-i.length),!0)):i=[];var o=i.join("."),a=function(t){for(var e=0,r=C.length;r>e;e++){var n=C[e],i=n[0];if(n[1].exec(t))return i}return null}(t),s=L.exec(t);return s&&s[1]?new A(r,o,a,s[1]):new w(r,o,a)}function P(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
P=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=Object.create((e&&e.prototype instanceof f?e:f).prototype),o=new S(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return L()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,o),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(x([])));g&&g!==e&&r.call(g,i)&&(p=g);var y=d.prototype=f.prototype=Object.create(p);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,s(y,"constructor",d),s(d,"constructor",h),h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},m(b.prototype),s(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new b(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=x,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(this.prev>=o.tryLoc){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(o.catchLoc>this.prev)return n(o.catchLoc,!0);if(o.finallyLoc>this.prev)return n(o.finallyLoc)}else if(s){if(o.catchLoc>this.prev)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(o.finallyLoc>this.prev)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(this.prev>=i.tryLoc&&r.call(i,"finallyLoc")&&i.finallyLoc>this.prev){var o=i;break}}o&&("break"===t||"continue"===t)&&e>=o.tryLoc&&o.finallyLoc>=e&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function _(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function j(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){_(o,n,i,a,s,"next",t)}function s(t){_(o,n,i,a,s,"throw",t)}a(void 0)}))}}function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;arguments.length>e;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G.apply(this,arguments)}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}var N=function(){this.$el=void 0,this.$groupEl=void 0,this.$hitTestingEl=void 0};function $(t,r){var n=r.img,i=void 0===n?"":n,o=r.width,a=r.height;if(t.setAttribute("x","0"),t.setAttribute("y","0"),e.isString(i))t.setAttribute("href",i);else if(i instanceof Image)o||t.setAttribute("width",""+i.width),a||t.setAttribute("height",""+i.height),t.setAttribute("href",i.src);else if(i instanceof HTMLElement&&e.isString(i.nodeName)&&"CANVAS"===i.nodeName.toUpperCase())t.setAttribute("href",i.toDataURL());else if(i instanceof ImageData){var s=document.createElement("canvas");s.setAttribute("width",""+i.width),s.setAttribute("height",""+i.height);var c=s.getContext("2d");c&&(c.putImageData(i,0,0),o||t.setAttribute("width",""+i.width),a||t.setAttribute("height",""+i.height),t.setAttribute("href",s.toDataURL()))}}function D(t,r){var n,i,o=r.x1,a=r.y1,s=r.x2,c=r.y2,u=r.defX,l=void 0===u?0:u,f=r.defY,h=void 0===f?0:f,d=r.markerStart,p=r.markerEnd,v=r.markerStartOffset,g=r.markerEndOffset,y=0,m=0,b=0,w=0,E=0;d&&d instanceof e.DisplayObject&&v&&(n=s-o,i=c-a,E=Math.atan2(i,n),y=Math.cos(E)*(v||0),m=Math.sin(E)*(v||0)),p&&p instanceof e.DisplayObject&&g&&(n=o-s,i=a-c,E=Math.atan2(i,n),b=Math.cos(E)*(g||0),w=Math.sin(E)*(g||0)),t.setAttribute("x1",""+(o-l+y)),t.setAttribute("y1",""+(a-h+m)),t.setAttribute("x2",""+(s-l+b)),t.setAttribute("y2",""+(c-h+w))}function R(t,r){var n,i,o=r.path,a=r.defX,s=void 0===a?0:a,c=r.defY,u=void 0===c?0:c,l=r.markerStart,f=r.markerEnd,h=r.markerStartOffset,d=r.markerEndOffset,p=0,v=0,g=0,y=0,m=0;if(l&&l instanceof e.DisplayObject&&h){var b=l.parentNode.getStartTangent(),w=b[0],E=b[1];n=w[0]-E[0],i=w[1]-E[1],m=Math.atan2(i,n),p=Math.cos(m)*(h||0),v=Math.sin(m)*(h||0)}if(f&&f instanceof e.DisplayObject&&d){var A=f.parentNode.getEndTangent(),S=A[0],x=A[1];n=S[0]-x[0],i=S[1]-x[1],m=Math.atan2(i,n),g=Math.cos(m)*(d||0),y=Math.sin(m)*(d||0)}t.setAttribute("d",e.translatePathToString(o.absolutePath,s,u,p,v,g,y))}function I(t,r){var n=r.points.points,i=r.defX,o=void 0===i?0:i,a=r.defY,s=void 0===a?0:a,c=r.markerStart,u=r.markerStartOffset,l=r.markerEnd,f=r.markerEndOffset,h=n.length;if(n&&h>=2){var d,p,v=0,g=0,y=0,m=0,b=0;c&&c instanceof e.DisplayObject&&u&&(d=n[1][0]-n[0][0],p=n[1][1]-n[0][1],b=Math.atan2(p,d),v=Math.cos(b)*(u||0),g=Math.sin(b)*(u||0)),l&&l instanceof e.DisplayObject&&f&&(d=n[h-2][0]-n[h-1][0],p=n[h-2][1]-n[h-1][1],b=Math.atan2(p,d),y=Math.cos(b)*(f||0),m=Math.sin(b)*(f||0)),t.setAttribute("points",n.map((function(t,e){var r=0,n=0;return 0===e?(r=v,n=g):e===h-1&&(r=y,n=m),t[0]-o+r+","+(t[1]-s+n)})).join(" "))}}function V(t,r){var n=r.radius,i=r.width,o=r.height;if(isFinite(i)&&isFinite(o)){var a="";if(n&&n.some((function(t){return 0!==t}))){var s=n.map((function(t){return e.clamp(t,0,Math.min(Math.abs(i)/2,Math.abs(o)/2))})),c=s[0],u=s[1],l=s[2],f=s[3],h=i>0?1:-1,d=o>0?1:-1,p=h+d!==0?1:0;a=[["M "+h*c+",0"],["l "+(i-h*(c+u))+",0"],["a "+u+","+u+",0,0,"+p+","+h*u+","+d*u],["l 0,"+(o-d*(u+l))],["a "+l+","+l+",0,0,"+p+","+-h*l+","+d*l],["l "+(h*(l+f)-i)+",0"],["a "+f+","+f+",0,0,"+p+","+-h*f+","+-d*f],["l 0,"+(d*(f+c)-o)],["a "+c+","+c+",0,0,"+p+","+h*c+","+-d*c],["z"]].join(" ")}else a="M 0,0 l "+i+",0 l 0,"+o+" l"+-i+" 0 z";t.setAttribute("d",a)}}function W(t){return t.toFixed(6).replace(".000000","")}function U(t){return t.replace(/[&|<|>|"|']/g,(function(t){return"&"===t?"&amp;":"<"===t?"&lt;":">"===t?"&gt;":'"'===t?"&quot;":"&apos;"}))}N.tag="c-svg-element";var F={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"alphabetic",ideographic:"ideographic",hanging:"hanging"},B={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",ideographic:"ideographic",hanging:"hanging"};function H(t,e){var r=e.textBaseline,n=e.lineWidth,i=e.metrics,o=e.dx,a=e.dy,s=k();s&&"firefox"===s.name?t.setAttribute("dominant-baseline",B[r]||"alphabetic"):(t.setAttribute("dominant-baseline",B[r]),t.setAttribute("alignment-baseline",F[r])),t.setAttribute("paint-order","stroke");var c=i.lines,u=i.lineHeight,l=i.height,f=c.length;t.setAttribute("style","transform:translate("+o+"px, "+a+"px);"),1===f?(t.innerHTML=U(c[0]),t.setAttribute("dx",""+n/2)):t.innerHTML=c.map((function(t,e){var i=0;return 0===e?"middle"===r?i=u/2-l/2:"top"===r||"hanging"===r?i=0:"bottom"!==r&&"alphabetic"!==r&&"ideographic"!==r||(i=-u*(f-1)):i=u,'<tspan x="0" dx="'+n/2+'" dy="'+i+'">'+U(t)+"</tspan>"})).join("")}var Y,X,z=e.Syringe.defineToken("",{multiple:!1});function Q(t,e){return(e||document).createElementNS("http://www.w3.org/2000/svg",t)}var q=((Y={})[e.Shape.RECT]="path",Y[e.Shape.CIRCLE]="circle",Y[e.Shape.ELLIPSE]="ellipse",Y[e.Shape.IMAGE]="image",Y[e.Shape.GROUP]="g",Y[e.Shape.LINE]="line",Y[e.Shape.POLYLINE]="polyline",Y[e.Shape.POLYGON]="polygon",Y[e.Shape.TEXT]="text",Y[e.Shape.PATH]="path",Y[e.Shape.HTML]="foreignObject",Y),K=((X={})[e.Shape.CIRCLE]=["r"],X[e.Shape.ELLIPSE]=["rx","ry"],X[e.Shape.RECT]=["width","height","radius"],X[e.Shape.IMAGE]=["img","width","height"],X[e.Shape.LINE]=["x1","y1","x2","y2","markerStart","markerEnd","markerStartOffset","markerEndOffset"],X[e.Shape.POLYLINE]=["points","markerStart","markerEnd","markerMid","markerStartOffset","markerEndOffset"],X[e.Shape.POLYGON]=["points","markerStart","markerEnd","markerMid","markerStartOffset","markerEndOffset"],X[e.Shape.PATH]=["path","markerStart","markerEnd","markerMid","markerStartOffset","markerEndOffset"],X[e.Shape.TEXT]=["text","font","fontSize","fontFamily","fontStyle","fontWeight","fontVariant","lineHeight","letterSpacing","wordWrap","wordWrapWidth","leading","textBaseline","textAlign","textTransform","whiteSpace","dx","dy"],X),J=function(){function t(){this.canvasConfig=void 0}var r=t.prototype;return r.createElement=function(t){return Q(q[t.nodeName]||"g",this.canvasConfig.document||document)},r.destroyElement=function(t,e){},r.shouldUpdateElementAttribute=function(t,e){return(K[t.nodeName]||[]).indexOf(e)>-1},r.updateElementAttribute=function(t){var r=t.elementSVG.$el,n=t.parsedStyle;switch(t.nodeName){case e.Shape.IMAGE:$(r,n);break;case e.Shape.RECT:V(r,n);break;case e.Shape.LINE:D(r,n);break;case e.Shape.POLYGON:case e.Shape.POLYLINE:I(r,n);break;case e.Shape.PATH:R(r,n);break;case e.Shape.TEXT:H(r,n)}},t}();s([e.inject(e.CanvasConfig),c("design:type",Object)],J.prototype,"canvasConfig",void 0),J=s([e.singleton({token:z})],J);var Z="g-filter-";function tt(t,r,n,i,o){var a=Z+n.entity,s=r.querySelectorAll("[name="+a+"]");if(s.length&&s.forEach((function(t){r.removeChild(t)})),0===o.length)null==i||i.removeAttribute("filter");else{var c=o.map((function(n,i){var o=n.name,s=n.params,c=Q("filter",t);return c.setAttribute("filterUnits","userSpaceOnUse"),"blur"===o?function(t,e,r){var n=Q("feGaussianBlur",t);n.setAttribute("in","SourceGraphic"),n.setAttribute("stdDeviation",""+r[0].value),e.appendChild(n)}(t,c,s):"brightness"===o?function(t,e,r){var n=et(r[0]);rt(t,e,{type:"linear",slope:n,intercept:0})}(t,c,s):"drop-shadow"===o?function(t,e,r){var n=r[0].value,i=r[1].value,o=r[2].value,a=r[3].formatted,s=Q("feGaussianBlur",t);s.setAttribute("in","SourceAlpha"),s.setAttribute("stdDeviation",""+o),e.appendChild(s);var c=Q("feOffset",t);c.setAttribute("dx",""+n),c.setAttribute("dy",""+i),c.setAttribute("result","offsetblur"),e.appendChild(c);var u=Q("feFlood",t);u.setAttribute("flood-color",a),e.appendChild(u);var l=Q("feComposite",t);l.setAttribute("in2","offsetblur"),l.setAttribute("operator","in"),e.appendChild(l);var f=Q("feMerge",t);e.appendChild(f);var h=Q("feMergeNode",t),d=Q("feMergeNode",t);d.setAttribute("in","SourceGraphic"),f.appendChild(h),f.appendChild(d)}(t,c,s):"contrast"===o?function(t,e,r){var n=et(r[0]);rt(t,e,{type:"linear",slope:n,intercept:-.5*n+.5})}(t,c,s):"grayscale"===o?function(t,e,r){var n=et(r[0]);nt(t,e,[.2126+.7874*(1-n),.7152-.7152*(1-n),.0722-.0722*(1-n),0,0,.2126-.2126*(1-n),.7152+.2848*(1-n),.0722-.0722*(1-n),0,0,.2126-.2126*(1-n),.7152-.7152*(1-n),.0722+.9278*(1-n),0,0,0,0,0,1,0])}(t,c,s):"sepia"===o?function(t,e,r){var n=et(r[0]);nt(t,e,[.393+.607*(1-n),.769-.769*(1-n),.189-.189*(1-n),0,0,.349-.349*(1-n),.686+.314*(1-n),.168-.168*(1-n),0,0,.272-.272*(1-n),.534-.534*(1-n),.131+.869*(1-n),0,0,0,0,0,1,0])}(t,c,s):"saturate"===o?function(t,e,r){var n=et(r[0]),i=Q("feColorMatrix",t);i.setAttribute("type","saturate"),i.setAttribute("values",""+n),e.appendChild(i)}(t,c,s):"hue-rotate"===o?function(t,r,n){var i=Q("feColorMatrix",t);i.setAttribute("type","hueRotate"),i.setAttribute("values",""+n[0].to(e.UnitType.kDegrees).value),r.appendChild(i)}(t,c,s):"invert"===o&&function(t,e,r){var n=et(r[0]);rt(t,e,{type:"table",tableValues:n+" "+(1-n)})}(t,c,s),c.id=a+"-"+i,c.setAttribute("name",a),r.appendChild(c),c.id}));setTimeout((function(){null==i||i.setAttribute("filter",c.map((function(t){return"url(#"+t+")"})).join(" "))}))}}function et(t){return t.unit===e.UnitType.kPercentage?t.value/100:t.value}function rt(t,e,r){var n=r.type,i=r.slope,o=r.intercept,a=r.tableValues,s=Q("feComponentTransfer",t);[Q("feFuncR",t),Q("feFuncG",t),Q("feFuncB",t)].forEach((function(t){t.setAttribute("type",n),"table"===n?t.setAttribute("tableValues",""+a):(t.setAttribute("slope",""+i),t.setAttribute("intercept",""+o)),s.appendChild(t)})),e.appendChild(s)}function nt(t,e,r){var n=Q("feColorMatrix",t);n.setAttribute("type","matrix"),n.setAttribute("values",r.join(" ")),e.appendChild(n)}var it={},ot=0;function at(t,r,n,i,o,a,s){if(!o)return"";if(!(o instanceof e.CSSRGB)){if(e.isPattern(o)){var c=function(t,r,n,i,o){var a=st(i);if(!r.querySelector("#"+a)){var s=i.image,c=i.repetition,u="";if(e.isString(s)?u=s:e.isBrowser&&(s instanceof HTMLImageElement?u=s.src:s instanceof HTMLCanvasElement&&(u=s.toDataURL())),u){var l=Q("pattern",t);l.setAttribute("patternUnits","userSpaceOnUse");var f,h=Q("image",t);l.appendChild(h),l.id=a,r.appendChild(l),h.setAttribute("href",u),o?f=o(u):e.isBrowser&&(f=new window.Image),u.match(/^data:/i)||(f.crossOrigin="Anonymous",h.setAttribute("crossorigin","anonymous")),f.src=u;var d=function(){l.setAttribute("x","0"),l.setAttribute("y","0");var t=n.getGeometryBounds().halfExtents,e=f.width,r=f.height;"repeat-x"===c?r=2*t[1]:"repeat-y"===c?e=2*t[0]:"no-repeat"===c&&(e=2*t[0],r=2*t[1]),l.setAttribute("width",""+e),l.setAttribute("height",""+r),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width",""+f.width),h.setAttribute("height",""+f.height)};f.complete?d():(f.onload=d,f.src=f.src)}}return a}(t,r,n,o,s);return i.style[a]="url(#"+c+")",c}if(1===o.length){var u=ct(t,n,r,i,o[0]);return null==i||i.setAttribute(a,"url(#"+u+")"),u}var l=function(t,e,r,n,i){var o=Z+e.entity+"-gradient",a=r.querySelector("#"+o);a||((a=Q("filter",t)).setAttribute("filterUnits","userSpaceOnUse"),a.setAttribute("x","0%"),a.setAttribute("y","0%"),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.id=o,r.appendChild(a));var s=0;i.forEach((function(i,c){var u=ct(t,e,r,n,i),l=u+"_rect",f=Q("rect",t);f.setAttribute("x","0"),f.setAttribute("y","0"),f.setAttribute("width","100%"),f.setAttribute("height","100%"),f.setAttribute("fill","url(#"+u+")"),f.id=l,r.appendChild(f);var h=Q("feImage",t);if(h.setAttribute("href","#"+l),h.setAttribute("result",o+"-"+c),a.appendChild(h),c>0){var d=Q("feBlend",t);d.setAttribute("in",1===c?o+"-"+(c-1):o+"-blended-"+(s-1)),d.setAttribute("in2",o+"-"+c),d.setAttribute("result",o+"-blended-"+s++),d.setAttribute("mode","multiply"),a.appendChild(d)}}));var c=Q("feComposite",t);return c.setAttribute("in",o+"-blended-"+s),c.setAttribute("in2","SourceGraphic"),c.setAttribute("operator","in"),a.appendChild(c),o}(t,n,r,i,o);return null==i||i.setAttribute("filter","url(#"+l+")"),null==i||i.setAttribute("fill","black"),l}return"currentColor"===n.style[a]?null==i||i.setAttribute(a,"currentColor"):null==i||i.setAttribute(a,o.isNone?"none":o.toString()),""}function st(t,r){void 0===r&&(r={});var n="";if(t instanceof e.CSSGradientValue){var i=t.type;if(i===e.GradientType.LinearGradient||i===e.GradientType.RadialGradient){var o=G({},t.value,r);n=""+o.type+o.width+o.height+(o.angle||0)+(o.cx||0)+(o.cy||0)+o.steps.map((function(t){return t.join("")})).join("")}}else e.isPattern(t)&&(n=e.isString(t.image)?"pattern-"+t.image+"-"+t.repetition:"pattern-"+ot);return n&&(it[n]||(it[n]="g-pattern-"+ot++)),it[n]}function ct(t,r,n,i,o){var a=r.getGeometryBounds(),s=a&&2*a.halfExtents[0]||0,c=a&&2*a.halfExtents[1]||0,u=st(o,{width:s,height:c}),l=n.querySelector("#"+u);if(!l){(l=Q(o.type===e.GradientType.LinearGradient?"linearGradient":"radialGradient",t)).setAttribute("gradientUnits","userSpaceOnUse");var f="";o.value.steps.forEach((function(t){f+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),l.innerHTML=f,l.id=u,n.appendChild(l)}if(o.type===e.GradientType.LinearGradient){var h=e.computeLinearGradient(s,c,o.value.angle),d=h.y1,p=h.x2,v=h.y2;l.setAttribute("x1",""+h.x1),l.setAttribute("y1",""+d),l.setAttribute("x2",""+p),l.setAttribute("y2",""+v)}else{var g=o.value,y=e.computeRadialGradient(s,c,g.cx,g.cy),m=y.y,b=y.r;l.setAttribute("cx",""+y.x),l.setAttribute("cy",""+m),l.setAttribute("r",""+b)}return u}var ut,lt,ft=/url\(#(.*)\)/,ht=function(){function t(){this.canvasConfig=void 0,this.contextService=void 0,this.$def=void 0,this.gradientCache={}}var r=t.prototype;return r.getDefElement=function(){return this.$def},r.init=function(){var t=this.canvasConfig.document,e=this.contextService.getContext();this.$def=Q("defs",t),e.appendChild(this.$def)},r.clear=function(t){var e=this;Object.keys(this.gradientCache).forEach((function(r){e.clearUnusedDefElement(e.gradientCache,r,t)}))},r.clearUnusedDefElement=function(t,e,r){if(t[e]&&1===t[e].size&&t[e].has(r)){var n=this.$def.querySelector("#"+e);n&&this.$def.removeChild(n)}},r.createOrUpdateGradientAndPattern=function(t,e,r,n){var i=this.canvasConfig,o=i.document,a=i.createImage;if(e){var s,c=null===(s=e.getAttribute(n))||void 0===s?void 0:s.match(ft);c&&c.length>1&&this.clearUnusedDefElement(this.gradientCache,c[1],t.entity);var u=at(o||document,this.$def,t,e,r,n,a);this.gradientCache[u]||(this.gradientCache[u]=new Set),this.gradientCache[u].add(t.entity)}},r.createOrUpdateShadow=function(t,r,n){!function(t,r,n,i,o){var a=n.parsedStyle,s=a.shadowType,c=a.shadowBlur,u=a.shadowColor,l=a.shadowOffsetX,f=a.shadowOffsetY,h=!e.isNil(u)&&c>0,d="g-filter-dropshadow-"+n.entity,p=r.querySelector("#"+d);if(p&&(p.getAttribute("data-type")===s&&h||(p.remove(),p=null)),h){if(null==i||i.setAttribute("filter","url(#"+d+")"),!p){if((p=Q("filter",t)).setAttribute("data-type",s),"outer"===s){var v=Q("feDropShadow",t);v.setAttribute("dx",""+(l||0)/2),v.setAttribute("dy",""+(f||0)/2),v.setAttribute("stdDeviation",""+(c||0)/4),v.setAttribute("flood-color",u.toString()),p.appendChild(v)}else if("inner"===s){var g=Q("feComponentTransfer",t);g.setAttribute("in","SourceAlpha");var y=Q("feFuncA",t);y.setAttribute("type","table"),y.setAttribute("tableValues","1 0"),g.appendChild(y),p.appendChild(g);var m=Q("feGaussianBlur",t);m.setAttribute("stdDeviation",""+(c||0)/4),p.appendChild(m);var b=Q("feOffset",t);b.setAttribute("dx",""+(l||0)/2),b.setAttribute("dy",""+(f||0)/2),b.setAttribute("result","offsetblur"),p.appendChild(b);var w=Q("feFlood",t);w.setAttribute("flood-color",u.toString()),w.setAttribute("result","color"),p.appendChild(w);var E=Q("feComposite",t);E.setAttribute("in2","offsetblur"),E.setAttribute("operator","in"),p.appendChild(E);var A=Q("feComposite",t);A.setAttribute("in2","SourceAlpha"),A.setAttribute("operator","in"),p.appendChild(A);var S=Q("feMerge",t);p.appendChild(S);var x=Q("feMergeNode",t);x.setAttribute("in","SourceGraphic");var L=Q("feMergeNode",t);S.appendChild(x),S.appendChild(L)}return p.id=d,p.setAttribute("filterUnits","userSpaceOnUse"),void r.appendChild(p)}if("inner"===s){var O=p.children[1],C=p.children[2];"shadowColor"===o?p.children[3].setAttribute("flood-color",u.toString()):"shadowBlur"===o?O.setAttribute("stdDeviation",""+(c||0)/4):"shadowOffsetX"===o?C.setAttribute("dx",""+(l||0)/2):"shadowOffsetY"===o&&C.setAttribute("dy",""+(f||0)/2)}else if("outer"===s){var k=p.children[0];"shadowColor"===o?k.setAttribute("flood-color",u.toString()):"shadowBlur"===o?k.setAttribute("stdDeviation",""+(c||0)/4):"shadowOffsetX"===o?k.setAttribute("dx",""+(l||0)/2):"shadowOffsetY"===o&&k.setAttribute("dy",""+(f||0)/2)}}else null==i||i.removeAttribute("filter")}(this.canvasConfig.document||document,this.$def,t,r,n)},r.createOrUpdateFilter=function(t,e,r){tt(this.canvasConfig.document||document,this.$def,t,e,r)},t}();s([e.inject(e.CanvasConfig),c("design:type",Object)],ht.prototype,"canvasConfig",void 0),s([e.inject(e.ContextService),c("design:type",Object)],ht.prototype,"contextService",void 0),ht=s([e.singleton()],ht);var dt={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",clipPath:"clip-path",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",letterSpacing:"letter-spacing",startArrow:"marker-start",endArrow:"marker-end",class:"class",id:"id",preserveAspectRatio:"preserveAspectRatio",visibility:"visibility",anchor:"anchor",shadowColor:"flood-color",shadowBlur:"stdDeviation",shadowOffsetX:"dx",shadowOffsetY:"dy",filter:"filter",innerHTML:"innerHTML",textAlign:"text-anchor",pointerEvents:"pointer-events"},pt={textAlign:{inherit:"inherit",left:"left",start:"left",center:"middle",right:"end",end:"end"}},vt={textAlign:"inherit",lineCap:"butt",lineJoin:"miter",lineWidth:"1px",opacity:"1",fillOpacity:"1",strokeOpacity:"1",strokeWidth:"0",strokeMiterLimit:"4",letterSpacing:"0",fontSize:"inherit",fontFamily:"inherit",pointerEvents:"auto"},gt="g_svg",yt=(ut=function(){function t(){this.canvasConfig=void 0,this.camera=void 0,this.contextService=void 0,this.renderingContext=void 0,this.styleValueRegistry=void 0,this.createElementContribution=void 0,this.defElementManager=void 0,this.$camera=void 0,this.renderQueue=[],this.pendingReorderQueue=new Set}var r=t.prototype;return r.apply=function(t){var r=this,n=this.canvasConfig.document,i=function(t){r.createSVGDom(n,t.target,r.$camera)},o=function(t){var e=t.target;r.defElementManager.clear(e.entity),r.removeSVGDom(e)},a=function(t){var e=t.target;if(e.elementSVG){var i=t.attrName;if("zIndex"===i){var o,a,s=e.parentNode,c=null===(o=e.parentNode)||void 0===o||null===(a=o.elementSVG)||void 0===a?void 0:a.$groupEl,u=((null==s?void 0:s.children)||[]).slice();c&&r.reorderChildren(n,c,u)}else if("increasedLineWidthForHitTesting"===i){var l=e.elementSVG;r.createOrUpdateHitArea(e,l.$el,l.$groupEl)}r.updateAttribute(e,[i])}},s=function(t){var n,i=t.target,o=null===(n=i.elementSVG)||void 0===n?void 0:n.$el,a=i.parsedStyle,s=a.fill,c=a.stroke;!s||s instanceof e.CSSRGB||r.defElementManager.createOrUpdateGradientAndPattern(i,o,s,"fill"),!c||c instanceof e.CSSRGB||r.defElementManager.createOrUpdateGradientAndPattern(i,o,c,"stroke")};t.hooks.init.tapPromise(lt.tag,j(P().mark((function t(){var n,c,u,l;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=(n=r.canvasConfig).background,u=n.document,r.defElementManager.init(),l=r.contextService.getContext(),c&&(l.style.background=c),l.setAttribute("color-interpolation-filters","sRGB"),r.$camera=Q("g",u),r.$camera.id="g_svg_camera",r.applyTransform(r.$camera,r.camera.getOrthoMatrix()),l.appendChild(r.$camera),r.renderingContext.root.addEventListener(e.ElementEvent.MOUNTED,i),r.renderingContext.root.addEventListener(e.ElementEvent.UNMOUNTED,o),r.renderingContext.root.addEventListener(e.ElementEvent.ATTR_MODIFIED,a),r.renderingContext.root.addEventListener(e.ElementEvent.BOUNDS_CHANGED,s);case 13:case"end":return t.stop()}}),t)})))),t.hooks.destroy.tap(lt.tag,(function(){r.renderingContext.root.removeEventListener(e.ElementEvent.MOUNTED,i),r.renderingContext.root.removeEventListener(e.ElementEvent.UNMOUNTED,o),r.renderingContext.root.removeEventListener(e.ElementEvent.ATTR_MODIFIED,a),r.renderingContext.root.removeEventListener(e.ElementEvent.BOUNDS_CHANGED,s)})),t.hooks.render.tap(lt.tag,(function(t){r.renderQueue.push(t)})),t.hooks.beginFrame.tap(lt.tag,(function(){var t=r.canvasConfig.document;r.pendingReorderQueue.size&&(r.pendingReorderQueue.forEach((function(e){var i,o=((null==e?void 0:e.children)||[]).slice(),a=null==e||null===(i=e.elementSVG)||void 0===i?void 0:i.$groupEl;a&&r.reorderChildren(t||n,a,o||[])})),r.pendingReorderQueue.clear())})),t.hooks.endFrame.tap(lt.tag,(function(){r.renderingContext.renderReasons.has(e.RenderReason.CAMERA_CHANGED)&&r.applyTransform(r.$camera,r.camera.getOrthoMatrix()),r.renderQueue.forEach((function(t){var e,n,i=null===(e=t.elementSVG)||void 0===e?void 0:e.$el,o=null===(n=t.elementSVG)||void 0===n?void 0:n.$groupEl;i&&o&&(r.applyTransform(o,t.getLocalTransform()),t.renderable.dirty=!1)})),r.renderQueue=[]}))},r.reorderChildren=function(t,e,r){if(r.sort((function(t,e){return t.sortable.renderOrder-e.sortable.renderOrder})),r.length){var n=(t||document).createDocumentFragment();r.forEach((function(t){if(t.isConnected){var e=t.elementSVG.$groupEl;e&&n.appendChild(e)}})),e.appendChild(n)}},r.applyTransform=function(t,e){t.setAttribute("transform","matrix("+W(e[0])+","+W(e[1])+","+W(e[4])+","+W(e[5])+","+W(e[12])+","+W(e[13])+")")},r.applyAttributes=function(t){var r=t.elementSVG,n=null==r?void 0:r.$el;if(n&&(null==r?void 0:r.$groupEl)){var i=t.nodeName,o=t.attributes;n.setAttribute("fill","none"),i===e.Shape.IMAGE&&n.setAttribute("preserveAspectRatio","none"),this.updateAttribute(t,Object.keys(o))}},r.updateAttribute=function(t,r){var n=this,i=this.canvasConfig.document,o=t.elementSVG,a=o.$el,s=o.$groupEl,c=o.$hitTestingEl,u=t.parsedStyle,l=t.computedStyle;r.some((function(e){return n.createElementContribution.shouldUpdateElementAttribute(t,e)}))&&a&&[a,c].forEach((function(r){r&&(n.createElementContribution.updateElementAttribute(t,r),t.nodeName!==e.Shape.TEXT&&n.updateAnchorWithTransform(t))})),r.forEach((function(r){var o,f,h=dt[r],d=l[r],p=d&&d.toString(),v=(null===(o=pt[r])||void 0===o?void 0:o[p])||p,g=u[r],y=!!(null===(f=e.cache[r])||void 0===f?void 0:f.inherited);h&&(t.nodeName===e.Shape.HTML&&("lineWidth"===r?a.style["border-width"]=(g||0)+"px":"lineDash"===r&&(a.style["border-style"]="dashed")),"fill"===r?t.nodeName===e.Shape.HTML?a.style.background=g.toString():n.defElementManager.createOrUpdateGradientAndPattern(t,a,g,h):"stroke"===r?t.nodeName===e.Shape.HTML?(a.style["border-color"]=g.toString(),a.style["border-style"]="solid"):n.defElementManager.createOrUpdateGradientAndPattern(t,a,g,h):y&&h?"unset"!==p&&p!==vt[r]?null==s||s.setAttribute(h,v):null==s||s.removeAttribute(h):"clipPath"===r?n.createOrUpdateClipPath(i,g,s):"shadowType"===r||"shadowColor"===r||"shadowBlur"===r||"shadowOffsetX"===r||"shadowOffsetY"===r?n.defElementManager.createOrUpdateShadow(t,a,r):"filter"===r?n.defElementManager.createOrUpdateFilter(t,a,g):"innerHTML"===r?n.createOrUpdateInnerHTML(i,a,g):"anchor"===r?t.nodeName!==e.Shape.TEXT&&n.updateAnchorWithTransform(t):d&&[a,c].forEach((function(t){t&&h&&("unset"!==p&&p!==vt[r]?t.setAttribute(h,v):t.removeAttribute(h))})))}))},r.createSVGDom=function(t,r,n,i){void 0===i&&(i=!1),r.elementSVG=new N;var o=r.elementSVG,a=this.createElementContribution.createElement(r);if(a){var s,c;r.nodeName===e.Shape.HTML&&(r.parsedStyle.$el=a),a.id="g_svg_"+r.nodeName+"_"+r.entity,!a.hasAttribute("data-wrapgroup")&&"g"===a.nodeName||i?c=a:(c=Q("g",t)).appendChild(a),o.$el=a,o.$groupEl=c,this.applyAttributes(r),this.createOrUpdateHitArea(r,a,c);var u=r.parentNode&&(null===(s=r.parentNode.elementSVG)||void 0===s?void 0:s.$groupEl)||n;u&&(u.appendChild(c),this.pendingReorderQueue.add(r.parentNode))}},r.removeSVGDom=function(t){var e,r=null===(e=t.elementSVG)||void 0===e?void 0:e.$groupEl;r&&r.parentNode&&(r.parentNode.removeChild(r),this.createElementContribution.destroyElement(t,r))},r.createOrUpdateHitArea=function(t,e,r){var n=t.elementSVG,i=n.$hitTestingEl,o=t.parsedStyle.increasedLineWidthForHitTesting;if(o){if(!i){(i=e.cloneNode()).id="g_svg_"+t.nodeName+"_hittesting_"+t.entity,["filter"].forEach((function(t){i.removeAttribute(t)}));var a="none"!==e.getAttribute("fill");i.setAttribute("fill",a?"transparent":"none"),i.setAttribute("stroke","transparent"),r.appendChild(i),n.$hitTestingEl=i}i.setAttribute("stroke-width",""+(o+t.parsedStyle.lineWidth))}else i&&(r.removeChild(i),n.$hitTestingEl=null)},r.createOrUpdateInnerHTML=function(t,e,r){var n=(t||document).createElement("div");"string"==typeof r?n.innerHTML=r:n.appendChild(r),e.innerHTML="",e.appendChild(n)},r.createOrUpdateClipPath=function(t,e,r){if(e){var n,i="clip-path-"+e.entity,o=this.defElementManager.getDefElement();if(!o.querySelector("#"+i)){var a=Q("clipPath",t);a.id=i,o.appendChild(a),this.createSVGDom(t,e,a,!0),e.elementSVG.$groupEl=a}var s=null===(n=e.elementSVG)||void 0===n?void 0:n.$groupEl;s&&this.applyTransform(s,e.getLocalTransform()),this.applyAttributes(e),r.setAttribute("clip-path","url(#"+i+")")}else r.removeAttribute("clip-path")},r.updateAnchorWithTransform=function(t){var r,n,i=t.getGeometryBounds(),o=i&&2*i.halfExtents[0]||0,a=i&&2*i.halfExtents[1]||0,s=(t.parsedStyle||{}).anchor;[null===(r=t.elementSVG)||void 0===r?void 0:r.$el,null===(n=t.elementSVG)||void 0===n?void 0:n.$hitTestingEl].forEach((function(r){if(r){var n=-s[0]*o,i=-s[1]*a;0===n&&0===i||r.setAttribute("transform","translate("+n+","+i+")"),t.nodeName!==e.Shape.CIRCLE&&t.nodeName!==e.Shape.ELLIPSE||(r.setAttribute("cx",""+o/2),r.setAttribute("cy",""+a/2))}}))},t}(),ut.tag="SVGRenderer",lt=ut);s([e.inject(e.CanvasConfig),c("design:type",Object)],yt.prototype,"canvasConfig",void 0),s([e.inject(e.DefaultCamera),c("design:type",e.Camera)],yt.prototype,"camera",void 0),s([e.inject(e.ContextService),c("design:type",Object)],yt.prototype,"contextService",void 0),s([e.inject(e.RenderingContext),c("design:type",Object)],yt.prototype,"renderingContext",void 0),s([e.inject(e.StyleValueRegistry),c("design:type",Object)],yt.prototype,"styleValueRegistry",void 0),s([e.inject(z),c("design:type",Object)],yt.prototype,"createElementContribution",void 0),s([e.inject(ht),c("design:type",ht)],yt.prototype,"defElementManager",void 0),yt=lt=s([e.singleton({contrib:e.RenderingPluginContribution})],yt);var mt,bt,wt=e.Module((function(t){t(ht),t(J),t(yt)})),Et=function(t){var e,r;function n(){for(var e,r=arguments.length,n=new Array(r),i=0;r>i;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).name="svg-renderer",e}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,M(e,r);var i=n.prototype;return i.init=function(){this.container.load(wt,!0)},i.destroy=function(){this.container.unload(wt)},n}(e.AbstractRendererPlugin),At=Object.freeze({__proto__:null,DEFAULT_VALUE_MAP:vt,get DefaultElementLifeCycleContribution(){return J},ElementLifeCycleContribution:z,ElementSVG:N,G_SVG_PREFIX:gt,Plugin:Et,SHAPE2TAGS:q,SHAPE_UPDATE_DEPS:K,get SVGRendererPlugin(){return yt},SVG_ATTR_MAP:dt,containerModule:wt,createSVGElement:Q,updateImageElementAttribute:$,updateLineElementAttribute:D,updatePathElementAttribute:R,updatePolylineElementAttribute:I,updateRectElementAttribute:V,updateTextElementAttribute:H});function St(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
St=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var i=Object.create((e&&e.prototype instanceof f?e:f).prototype),o=new S(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return L()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,o),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(x([])));g&&g!==e&&r.call(g,i)&&(p=g);var y=d.prototype=f.prototype=Object.create(p);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(i,o,a,s){var c=u(t[i],t,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,s(y,"constructor",d),s(d,"constructor",h),h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},m(b.prototype),s(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new b(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=x,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(this.prev>=o.tryLoc){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(o.catchLoc>this.prev)return n(o.catchLoc,!0);if(o.finallyLoc>this.prev)return n(o.finallyLoc)}else if(s){if(o.catchLoc>this.prev)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(o.finallyLoc>this.prev)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(this.prev>=i.tryLoc&&r.call(i,"finallyLoc")&&i.finallyLoc>this.prev){var o=i;break}}o&&("break"===t||"continue"===t)&&e>=o.tryLoc&&o.finallyLoc>=e&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function xt(t,e,r,n,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,i)}function Lt(t,e){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lt(t,e)}function Ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);e>r;r++)n[r]=t[r];return n}function Ct(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Ot(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ot(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return t.length>n?{done:!1,value:t[n++]}:{done:!0}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var kt=(mt=function(){function t(){this.canvasConfig=void 0,this.displayObjectPool=void 0}return t.prototype.apply=function(t){var e=this,r=this.canvasConfig.document;t.hooks.pick.tapPromise(bt.tag,function(){var t,n=(t=St().mark((function t(n){var i,o,a,s,c,u,l,f,h,d,p;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.topmost,a=(o=n.position).clientX,s=o.clientY,t.prev=1,c=[],u=Ct((r||document).elementsFromPoint(a,s));case 4:if((l=u()).done){t.next=17;break}if(!(h=(f=l.value)&&f.getAttribute("id"))||!h.startsWith(gt)){t.next=15;break}if(d=h.lastIndexOf("_"),!(p=e.displayObjectPool.getByEntity(Number(h.substring(d+1))))||!p.isInteractive()){t.next=15;break}if(c.push(p),!i){t.next=15;break}return n.picked=c,t.abrupt("return",n);case 15:t.next=4;break;case 17:n.picked=c,t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),n.picked=[];case 23:return t.abrupt("return",n);case 24:case"end":return t.stop()}}),t,null,[[1,20]])})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){xt(o,n,i,a,s,"next",t)}function s(t){xt(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}())},t}(),mt.tag="SVGPicker",bt=mt);s([e.inject(e.CanvasConfig),c("design:type",Object)],kt.prototype,"canvasConfig",void 0),s([e.inject(e.DisplayObjectPool),c("design:type",e.DisplayObjectPool)],kt.prototype,"displayObjectPool",void 0),kt=bt=s([e.singleton({contrib:e.RenderingPluginContribution})],kt);var Tt=e.Module((function(t){t(kt)})),Pt=function(t){var e,r;function n(){for(var e,r=arguments.length,n=new Array(r),i=0;r>i;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).name="svg-picker",e}r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,Lt(e,r);var i=n.prototype;return i.init=function(){this.container.load(Tt,!0)},i.destroy=function(){this.container.unload(Tt)},n}(e.AbstractRendererPlugin),_t=Object.freeze({__proto__:null,Plugin:Pt}),jt=function(){function t(){this.$container=void 0,this.$namespace=void 0,this.dpr=void 0,this.canvasConfig=void 0}var n=t.prototype;return n.init=function(){var t=i(r().mark((function t(){var n,i,o,a,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=(n=this.canvasConfig).document,this.$container=e.isString(i=n.container)?(o||document).getElementById(i):i,this.$container&&(this.$container.style.position||(this.$container.style.position="relative"),(a=Q("svg",o)).setAttribute("width",""+this.canvasConfig.width),a.setAttribute("height",""+this.canvasConfig.height),this.$container.appendChild(a),this.$namespace=a),s=1>(s=window.devicePixelRatio||1)?1:Math.ceil(s),this.dpr=s;case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.getDomElement=function(){return this.$namespace},n.getContext=function(){return this.$namespace},n.getDPR=function(){return this.dpr},n.getBoundingClientRect=function(){var t;return null===(t=this.$namespace)||void 0===t?void 0:t.getBoundingClientRect()},n.destroy=function(){this.$container&&this.$namespace&&this.$namespace.parentNode&&this.$container.removeChild(this.$namespace)},n.resize=function(t,e){this.$namespace&&(this.$namespace.setAttribute("width",""+t),this.$namespace.setAttribute("height",""+e))},n.applyCursorStyle=function(t){this.$container&&(this.$container.style.cursor=t)},n.toDataURL=function(){var t=i(r().mark((function t(e){var n,i,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.$namespace.cloneNode(!0),i=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(o=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",i)).replaceChild(n,o.documentElement),t.abrupt("return","data:image/svg+xml;charset=utf8,"+encodeURIComponent((new XMLSerializer).serializeToString(o)));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t}();s([e.inject(e.CanvasConfig),c("design:type",Object)],jt.prototype,"canvasConfig",void 0),jt=s([e.singleton({token:e.ContextService})],jt);var Gt=e.Module((function(t){t(jt)})),Mt=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;r>i;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).name="svg-context-register",e}o(e,t);var r=e.prototype;return r.init=function(){this.container.load(Gt,!0)},r.destroy=function(){this.container.unload(Gt)},e}(e.AbstractRendererPlugin),Nt=function(t){function e(e){var r;return(r=t.call(this,e)||this).registerPlugin(new Mt),r.registerPlugin(new Et),r.registerPlugin(new y),r.registerPlugin(new Pt),r}return o(e,t),e}(e.AbstractRenderer);t.DomInteraction=m,t.Renderer=Nt,t.SVGPicker=_t,t.SVGRenderer=At,Object.defineProperty(t,"__esModule",{value:!0})}));
